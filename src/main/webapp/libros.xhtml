<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:h="http://java.sun.com/jsf/html"
       xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      >
  <ui:composition template="/resources/templates/plantilla.xhtml"  >
     <ui:define name="content" >
                    <br/>
                    <br/>
          
                    
              <h:form>
                  <p:fileUpload fileUploadListener="#{libroController.handleFileUpload}" 
                                mode="advanced" 
                                dragDropSupport="true"
                              multiple="true" update="messages" 
                              sizeLimit="10000000" fileLimit="10"  />

                <p:growl id="messages" showDetail="true" />
                
                
                <p:commandButton value="Check"  ajax="false" icon="ui-icon-check"/>
            </h:form>
                    
                    
                    <h:form>
                        <h:outputLabel value="busqueda" />
                        <p:inputText value="#{usuarioController.busqueda}"/>
                        <p:commandButton actionListener="#{usuarioController.busquedaLibros(usuarioController.busqueda)}"  
                                         value="buscar"
                                         update="@form"
                                         />
                        <br/>
                        <p:dataTable value="#{usuarioController.libros}" var="_libro">
                            <p:column>
                                <h:graphicImage width="50" value="data:image;base64,#{_libro.imagen}" />
                                 #{_libro.titulo}-#{_libro.isbn}
                            </p:column>
                        </p:dataTable>
                        
                    </h:form>
                    
     </ui:define>
  </ui:composition>
</html>